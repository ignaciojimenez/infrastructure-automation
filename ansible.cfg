[defaults]
# Inventory
inventory = ansible/inventory/hosts.yml

# Performance tuning
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_fact_cache
fact_caching_timeout = 3600

# Output formatting
stdout_callback = default
callback_whitelist = profile_tasks, timer

# Retry files
retry_files_enabled = true
retry_files_save_path = ~/.ansible/retry

# Host checking - disabled for initial setup
host_key_checking = false

# Vault
vault_password_file = ~/.ansible/vault_pass

# Collections and roles
collections_paths = ./ansible/collections:~/.ansible/collections
roles_path = ansible/roles:~/.ansible/roles

# Python interpreter discovery
interpreter_python = auto_silent

[ssh_connection]
# SSH multiplexing for performance and TouchID/Secretive compatibility
ssh_args = -o ControlMaster=auto -o ControlPath=~/.ssh/control:%h:%p:%r -o ControlPersist=10m
pipelining = true

# Increase timeout for slower devices
timeout = 30
connect_timeout = 10

[inventory]
# Enable YAML inventory plugin
enable_plugins = host_list, script, auto, yaml, ini

[privilege_escalation]
# Don't set become globally - set it per-play in playbooks
# become = true
become_method = sudo
become_ask_pass = false
become_flags = -H -n
